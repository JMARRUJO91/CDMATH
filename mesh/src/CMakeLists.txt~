INCLUDE_DIRECTORIES(
${HDF5_INCLUDE_DIRS}
${MED3_INCLUDE_DIRS}
${MESH_DIR}/inc 
${MED_COUPLING_DIR}
${INTERP_KERNEL_DIR}
${INTERP_KERNEL_DIR}/Bases
${INTERP_KERNEL_DIR}/Geometric2D
${INTERP_KERNEL_DIR}/ExprEval
${INTERP_KERNEL_DIR}/GaussPoints
${MED_LOADER_DIR}
)

SET(CMAKE_CXX_FLAGS "-fprofile-arcs -ftest-coverage --coverage")

FILE(GLOB src_mesh_CXX . *.cxx)
ADD_LIBRARY(mesh SHARED ${src_mesh_CXX})
TARGET_LINK_LIBRARIES(mesh medcoupling ${HDF5_LIBS} ${MED3_LIBS} medloader)
#ADD_LIBRARY(meshStatic STATIC ${src_mesh_CXX})
#TARGET_LINK_LIBRARIES(meshStatic medcoupling ${HDF5_LIBS} ${MED3_LIBS} medloader)

INSTALL(TARGETS mesh DESTINATION ${CMAKE_INSTALL_PREFIX}/lib)
#INSTALL(TARGETS meshStatic DESTINATION ${CMAKE_INSTALL_PREFIX}/lib)
