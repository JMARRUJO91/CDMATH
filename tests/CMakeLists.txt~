# nom du projet tests
PROJECT(tests)
CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

INCLUDE(${CMAKE_FILES_DIR}/FindHDF5.cmake)

ADD_SUBDIRECTORY(cdmath)
ADD_SUBDIRECTORY(cdmath_swig)

INCLUDE_DIRECTORIES(
  ${MESH_DIR}/inc 
  ${MED_COUPLING_DIR}
  cdmath 
  )

SET(MAIN_SOURCES
  MainTests.cxx
  )

ADD_EXECUTABLE(TestCDMATH ${MAIN_SOURCES})
SET_TARGET_PROPERTIES(TestCDMATH PROPERTIES COMPILE_FLAGS "")
TARGET_LINK_LIBRARIES(TestCDMATH TestMesh mesh medcoupling ${HDF5_LIBS} ${MED3_LIBS} medloader ${CPPUNIT_LIBS})
ADD_TEST(TestCDMATH TestCDMATH)
INSTALL(TARGETS TestCDMATH DESTINATION ${CMAKE_INSTALL_PREFIX}/bin/tests)
